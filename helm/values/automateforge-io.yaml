name: "automateforge-io"
namespace: "automateforge-io"

image:
  repository: "ghcr.io/cloudwarriorpat/automateforge-io"
  tag: "latest"
  pullPolicy: Always

imagePullSecrets:
  - name: ghcr-pull-secret

replicaCount: 1
containerPort: 3000

healthCheck:
  enabled: true
  path: "/"
  initialDelaySeconds: 3
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 0
    maxUnavailable: 1

resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "500m"
    memory: "256Mi"

podSecurityContext:
  fsGroup: 101

securityContext:
  runAsNonRoot: true
  runAsUser: 101
  runAsGroup: 101
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: false

ingress:
  enabled: true
  className: traefik
  domain: "automateforge.io"
  hosts:
    - automateforge.io
    - www.automateforge.io
  tls:
    enabled: true
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
    traefik.ingress.kubernetes.io/router.tls: "true"

service:
  type: ClusterIP
  port: 80
  targetPort: 3000

postgresql:
  enabled: false

env:
  - name: DISABLE_CACHE
    value: "true"
